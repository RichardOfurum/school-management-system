(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9918],{56963:function(e,t,a){Promise.resolve().then(a.bind(a,42729))},58064:function(e,t,a){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return c}});let n=a(74590);function c(e){let{createServerReference:t}=a(6671);return t(e,n.callServer)}},42729:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var n=a(57437);a(74590);var c=(0,a(58064).$)("6398820b460b9af598265b926e2e74dc834e8cec"),r=a(2265);function l(){let[e,t]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),o=async()=>{t(!0),l(null);try{let e=await c(),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="school-database-backup-".concat(new Date().toISOString(),".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(e){l(e instanceof Error?e.message:"An unknown error occurred")}finally{t(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Database Backup"}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,n.jsx)("p",{className:"mb-4",children:"Click the button below to create a complete backup of the database. This will download all data as a JSON file."}),(0,n.jsx)("button",{onClick:o,disabled:e,className:"px-4 py-2 rounded-md text-white ".concat(e?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"),children:e?"Creating Backup...":"Backup Database"}),a&&(0,n.jsxs)("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:["Error: ",a]}),!a&&e&&(0,n.jsx)("div",{className:"mt-4 p-3 bg-blue-100 text-blue-700 rounded-md",children:"Preparing your backup file..."})]})]})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=56963)}),_N_E=e.O()}]);