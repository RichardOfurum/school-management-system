"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7379],{38113:function(e,s,r){var t=r(57437);s.Z=e=>{let{label:s,type:r="text",register:a,name:i,defaultValue:n,error:o,hidden:m,inputProps:d}=e;return(0,t.jsxs)("div",{className:m?"hidden":"flex flex-col gap-1 w-full",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:s}),(0,t.jsx)("input",{type:r,...a(i),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...d,defaultValue:n}),(null==o?void 0:o.message)&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:o.message.toString()})]})}},77379:function(e,s,r){r.r(s);var t=r(57437),a=r(31014),i=r(39343),n=r(38113),o=r(2265),m=r(80118),d=r(54887),l=r(31721),c=r(16463),u=r(24648);s.default=e=>{let{type:s,data:r,setOpen:g,relatedData:z}=e,{register:p,handleSubmit:b,formState:{errors:f}}=(0,i.cI)({resolver:(0,a.F)(m.a2),defaultValues:r||{}}),[h,q]=(0,o.useState)(!1),[x,w]=(0,d.useFormState)("create"===s?l.uV:l.aq,{success:!1,error:!1}),j=b(e=>{q(!0),w(e),console.log(e)}),v=(0,c.useRouter)();return(0,o.useEffect)(()=>{x.success&&(q(!1),u.Am.success("Admin has been ".concat("create"===s?"created":"updated","!")),g(!1),v.refresh()),x.error&&(q(!1),u.Am.error(x.error))},[x,v,s,g]),(0,t.jsxs)("form",{className:"flex flex-col gap-6 p-6 bg-white rounded-lg shadow-md max-h-[80vh] overflow-y-auto scrollbar-thin",onSubmit:j,children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"create"===s?"Create a New Admin":"Update Admin"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Authentication Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:[(0,t.jsx)(n.Z,{label:"Username",name:"username",defaultValue:null==r?void 0:r.username,register:p,error:null==f?void 0:f.username}),"create"===s&&(0,t.jsx)(n.Z,{label:"Password",name:"password",type:"password",defaultValue:null==r?void 0:r.password,register:p,error:null==f?void 0:f.password}),"update"===s&&(0,t.jsx)(n.Z,{label:"New Password (Optional)",name:"password",type:"password",defaultValue:"",register:p,error:null==f?void 0:f.password})]}),(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Admin Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:[(0,t.jsx)(n.Z,{label:"First Name",name:"firstName",defaultValue:null==r?void 0:r.firstName,register:p,error:null==f?void 0:f.firstName}),(0,t.jsx)(n.Z,{label:"Surname",name:"surname",defaultValue:null==r?void 0:r.surname,register:p,error:null==f?void 0:f.surname})]})]}),r&&(0,t.jsx)(n.Z,{label:"Id",name:"id",defaultValue:null==r?void 0:r.id,register:p,error:null==f?void 0:f.id,hidden:!0}),x.error&&(0,t.jsx)("div",{className:"text-red-500 text-sm mt-4",children:x.error}),(0,t.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors disabled:bg-blue-300",type:"submit",disabled:h,children:h?"Loading...":"create"===s?"Create":"Update"})]})}},80118:function(e,s,r){r.d(s,{O7:function(){return b},ON:function(){return c},Q1:function(){return o},Qu:function(){return m},Rj:function(){return f},UQ:function(){return i},Xj:function(){return d},a2:function(){return u},aD:function(){return h},iQ:function(){return n},k:function(){return p},o6:function(){return z},qJ:function(){return a},rA:function(){return l},zi:function(){return g}});var t=r(59772);let a=t.z.object({id:t.z.coerce.number().optional(),name:t.z.string().min(1,{message:"Subject name is required!"}),teachers:t.z.array(t.z.string())}),i=t.z.object({id:t.z.coerce.number().optional(),name:t.z.string().min(1,{message:"Subject name is required!"}),capacity:t.z.coerce.number().min(1,{message:"Capacity name is required!"}),gradeId:t.z.coerce.number().min(1,{message:"Grade name is required!"}),supervisorId:t.z.coerce.string().optional()}),n=t.z.object({id:t.z.string().optional(),username:t.z.string().min(10,{message:"Username must be at least 10 characters long!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal("")),name:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),email:t.z.string().email({message:"Invalid email address!"}).optional().or(t.z.literal("")),phone:t.z.string().optional(),address:t.z.string(),img:t.z.string().optional(),bloodType:t.z.string().min(1,{message:"Blood Type is required!"}),birthday:t.z.coerce.date({message:"Birthday is required!"}),sex:t.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),subjects:t.z.array(t.z.string()).optional()}),o=t.z.object({id:t.z.string().optional(),username:t.z.string().min(10,{message:"Username must be at least 10 characters long!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal("")),name:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),email:t.z.string().email({message:"Invalid email address!"}).optional().or(t.z.literal("")),phone:t.z.string().optional(),address:t.z.string(),img:t.z.string().optional(),bloodType:t.z.string().min(1,{message:"Blood Type is required!"}),birthday:t.z.coerce.date({message:"Birthday is required!"}),sex:t.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),gradeId:t.z.coerce.number().min(1,{message:"Grade is required!"}),classId:t.z.coerce.number().min(1,{message:"Class is required!"}),parentId:t.z.string().min(1,{message:"Parent Id is required!"})}),m=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title name is required!"}),startTime:t.z.coerce.date({message:"Start time is required!"}),endTime:t.z.coerce.date({message:"End time is required!"}),lessonId:t.z.coerce.number({message:"Lesson is required!"})}),d=t.z.object({id:t.z.string().optional(),username:t.z.string().min(10,{message:"Username must be at least 10 characters long!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal("")),name:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),email:t.z.string().email({message:"Invalid email address!"}).optional().or(t.z.literal("")),phone:t.z.string().min(10,{message:"Phone number must be at least 10 digits long!"}).max(15,{message:"Phone number must be at most 15 digits long!"}),address:t.z.string().min(1,{message:"Address is required!"})}),l=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title is required!"}),description:t.z.string().min(1,{message:"Description is required!"}),startTime:t.z.coerce.date({message:"Start time is required!"}),endTime:t.z.coerce.date({message:"End time is required!"}),classId:t.z.coerce.number().optional()}).refine(e=>e.endTime>e.startTime,{message:"End time must be after start time!",path:["endTime"]}),c=t.z.object({id:t.z.coerce.number().optional(),name:t.z.string().min(1,{message:"Lesson name is required!"}),day:t.z.string().optional(),startTime:t.z.coerce.date({message:"Start time is required!"}),endTime:t.z.coerce.date({message:"End time is required!"}),subjectId:t.z.coerce.number().min(1,{message:"Subject ID is required!"}),classId:t.z.coerce.number().min(1,{message:"Class ID is required!"}),teacherId:t.z.string().optional()}).refine(e=>e.endTime>e.startTime,{message:"End time must be after start time!",path:["endTime"]}),u=t.z.object({id:t.z.string().optional(),username:t.z.string().min(1,{message:"Username is required!"}).max(50,{message:"Username must be at most 50 characters long!"}),firstName:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal(""))}),g=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title is required!"}),description:t.z.string().min(1,{message:"Description is required!"}),date:t.z.coerce.date({message:"Date is required!"}),classId:t.z.coerce.number().optional()}),z=t.z.object({id:t.z.coerce.number().optional(),level:t.z.coerce.number().min(1,{message:"Grade level is required!"}).refine(e=>Number.isInteger(e),{message:"Grade level must be an integer!"}),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}),p=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title is required!"}),startDate:t.z.coerce.date({message:"Start date is required!"}),dueDate:t.z.coerce.date({message:"Due date is required!"}),lessonId:t.z.coerce.number().min(1,{message:"Lesson ID is required!"}),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}).refine(e=>e.dueDate>e.startDate,{message:"Due date must be after start date!",path:["dueDate"]}),b=t.z.object({id:t.z.coerce.number().optional(),score:t.z.coerce.number().min(0,{message:"Score must be a non-negative number!"}),examId:t.z.coerce.number().optional(),assignmentId:t.z.coerce.number().optional(),studentId:t.z.string().min(1,{message:"Student ID is required!"}),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}),f=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Post Title required!"}),description:t.z.string().min(1,{message:"Post description required!"}),image:t.z.string().optional(),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}),h=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title required!"}).max(100,{message:"Title must be less than 100 characters!"}),file:t.z.string().optional()})}}]);