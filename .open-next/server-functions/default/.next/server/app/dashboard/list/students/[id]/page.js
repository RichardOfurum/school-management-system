(()=>{var e={};e.id=2675,e.ids=[2675],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},24823:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>c}),t(93681),t(51738),t(628),t(32029),t(7629),t(35866);var a=t(23191),l=t(88716),n=t(37922),r=t.n(n),d=t(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let c=["",{children:["dashboard",{children:["list",{children:["students",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,93681)),"C:\\nextjs_projects\\2024\\work\\school-management-system-app\\src\\app\\dashboard\\list\\students\\[id]\\page.tsx"]}]},{}]},{}]},{loading:[()=>Promise.resolve().then(t.bind(t,51738)),"C:\\nextjs_projects\\2024\\work\\school-management-system-app\\src\\app\\dashboard\\list\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,628)),"C:\\nextjs_projects\\2024\\work\\school-management-system-app\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\nextjs_projects\\2024\\work\\school-management-system-app\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\nextjs_projects\\2024\\work\\school-management-system-app\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["C:\\nextjs_projects\\2024\\work\\school-management-system-app\\src\\app\\dashboard\\list\\students\\[id]\\page.tsx"],o="/dashboard/list/students/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/list/students/[id]/page",pathname:"/dashboard/list/students/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},61165:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,92481,23)),Promise.resolve().then(t.t.bind(t,79404,23)),Promise.resolve().then(t.bind(t,86740)),Promise.resolve().then(t.bind(t,89310))},86740:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(10326),l=t(46122),n=t(57967),r=t.n(n);t(51948);var d=t(17577);let i=(0,l.Zt)(r()),c=({data:e})=>{let[s,t]=(0,d.useState)(l.kO.WORK_WEEK);return console.log(e),a.jsx(l.f,{localizer:i,events:e,startAccessor:"start",endAccessor:"end",views:["work_week","day"],view:s,style:{height:"98%"},onView:e=>{t(e)},min:new Date(2025,1,0,8,0,0),max:new Date(2040,12,0,18,0,0)})}},93681:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(19510),l=t(90425),n=t(64704),r=t(35463),d=t(13538);let i=async({id:e})=>{let s=await d.Z.attendance.findMany({where:{studentId:e,date:{gte:new Date(new Date().getFullYear(),0,1)}}}),t=s.length,l=s.filter(e=>e.present).length;return(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold",children:[l/t*100||"-","%"]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Attendance"})]})};var c=t(92700),x=t(17710),o=t(57371),m=t(58585),h=t(71159),p=t(26313);let u=async({params:{id:e}})=>{let{sessionClaims:s}=await (0,c.I)(),t=s?.metadata?.role,u=await d.Z.student.findUnique({where:{id:e},include:{class:{include:{_count:{select:{lessons:!0}}}},parent:!0}});return u?(0,a.jsxs)("div",{className:"flex-1 p-4 flex flex-col gap-4 xl:flex-row",children:[(0,a.jsxs)("div",{className:"w-full xl:w-2/3",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"bg-lamaSky py-6 px-4 rounded-md flex-1 flex gap-4",children:[a.jsx("div",{className:"w-1/3",children:a.jsx(x.default,{src:u.img||"/noAvatar.png",alt:"",width:144,height:144,className:"w-36 h-36 rounded-full object-cover"})}),(0,a.jsxs)("div",{className:"w-2/3 flex flex-col justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-xl font-semibold",children:u.name+" "+u.surname}),"admin"===t&&a.jsx(r.Z,{table:"student",type:"update",data:u})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-wrap text-xs font-medium",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/blood.png",alt:"",width:14,height:14}),a.jsx("span",{children:u.bloodType})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/date.png",alt:"",width:14,height:14}),a.jsx("span",{children:new Intl.DateTimeFormat("en-GB").format(u.birthday)})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/mail.png",alt:"",width:14,height:14}),a.jsx("span",{children:u.email||"-"})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/phone.png",alt:"",width:14,height:14}),a.jsx("span",{children:u.phone||"-"})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(p.v2c,{}),a.jsx("span",{className:"text-xs",children:u.address||"-"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex gap-4 justify-between flex-wrap",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleAttendance.png",alt:"",width:24,height:24,className:"w-6 h-6"}),a.jsx(h.Suspense,{fallback:"loading...",children:a.jsx(i,{id:u.id})})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleBranch.png",alt:"",width:24,height:24,className:"w-6 h-6"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold",children:[u.class.name.charAt(0),"th"]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Grade"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleLesson.png",alt:"",width:24,height:24,className:"w-6 h-6"}),(0,a.jsxs)("div",{className:"",children:[a.jsx("h1",{className:"text-xl font-semibold",children:u.class._count.lessons}),a.jsx("span",{className:"text-sm text-gray-400",children:"Lessons"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleClass.png",alt:"",width:24,height:24,className:"w-6 h-6"}),(0,a.jsxs)("div",{className:"",children:[a.jsx("h1",{className:"text-xl font-semibold",children:u.class.name}),a.jsx("span",{className:"text-sm text-gray-400",children:"Class"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 bg-white rounded-md p-4 h-[800px]",children:[a.jsx("h1",{children:"Student's Schedule"}),a.jsx(n.Z,{type:"classId",id:u.class.id})]})]}),(0,a.jsxs)("div",{className:"w-full xl:w-1/3 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Shortcuts"}),(0,a.jsxs)("div",{className:"mt-4 flex gap-4 flex-wrap text-xs text-gray-500",children:[a.jsx(o.default,{className:"p-3 rounded-md bg-lamaSkyLight",href:`/dashboard/list/lessons?classId=${u.class.id}`,children:"Student's Lessons"}),a.jsx(o.default,{className:"p-3 rounded-md bg-lamaPurpleLight",href:`/dashboard/list/teachers?classId=${u.class.id}`,children:"Student's Teachers"}),a.jsx(o.default,{className:"p-3 rounded-md bg-pink-50",href:`/dashboard/list/exams?classId=${u.class.id}`,children:"Student's Exams"}),a.jsx(o.default,{className:"p-3 rounded-md bg-lamaSkyLight",href:`/dashboard/list/assignments?classId=${u.class.id}`,children:"Student's Assignments"}),a.jsx(o.default,{className:"p-3 rounded-md bg-lamaYellowLight",href:`/dashboard/list/results?studentId=${u.id}`,children:"Student's Results"}),a.jsx(o.default,{className:"p-3 rounded-md bg-lamaPurpleLight",href:`/dashboard/list/attendance?studentId=${u.id}`,children:"Student's Attendance"})]})]}),("admin"===t||"teacher"===t)&&u.parent&&(0,a.jsxs)("div",{className:"bg-lamaPurpleLight py-6 px-4 rounded-md flex flex-col gap-4 h-fit",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Parent details"}),(0,a.jsxs)("div",{className:"w-2/3 flex flex-col justify-between gap-4",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("h1",{className:"font-semibold text-md",children:u.parent.name+" "+u.parent.surname})}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-wrap text-xs font-medium",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/mail.png",alt:"",width:14,height:14}),a.jsx("span",{children:u.parent.email||"-"})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/phone.png",alt:"",width:14,height:14}),a.jsx("span",{children:u.parent.phone||"-"})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(p.v2c,{}),a.jsx("span",{className:"text-xs",children:u.parent.address||"-"})]})]})]})]}),a.jsx(l.Z,{})]})]}):(0,m.notFound)()}},90425:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var a=t(19510),l=t(13538),n=t(92700),r=t(57371);let d=async()=>{let{userId:e,sessionClaims:s}=await (0,n.I)(),t=s?.metadata?.role,d=await l.Z.announcement.findMany({take:3,orderBy:{date:"desc"},where:{..."admin"!==t&&{OR:[{classId:null},{class:{teacher:{lessons:{some:{teacherId:e}}},student:{students:{some:{id:e}}},parent:{students:{some:{parentId:e}}}}[t]||{}}]}}});return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[" ",a.jsx(r.default,{href:"/dashboard/list/announcements",children:" View All "})," "]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[d[0]&&(0,a.jsxs)("div",{className:"bg-lamaSkyLight rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:d[0].title}),a.jsx("span",{className:"text-xs text-gray-400 bg-white rounded-md px-1 py-1",children:new Intl.DateTimeFormat("en-GB").format(d[0].date)})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d[0].description})]}),d[1]&&(0,a.jsxs)("div",{className:"bg-lamaPurpleLight rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:d[1].title}),a.jsx("span",{className:"text-xs text-gray-400 bg-white rounded-md px-1 py-1",children:new Intl.DateTimeFormat("en-GB").format(d[1].date)})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d[1].description})]}),d[2]&&(0,a.jsxs)("div",{className:"bg-lamaYellowLight rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:d[2].title}),a.jsx("span",{className:"text-xs text-gray-400 bg-white rounded-md px-1 py-1",children:new Intl.DateTimeFormat("en-GB").format(d[2].date)})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d[2].description})]})]})]})}},64704:(e,s,t)=>{"use strict";t.d(s,{Z:()=>m});var a=t(19510),l=t(13538);let n=()=>{let e=new Date,s=e.getDay();return e.setDate(e.getDate()-(0===s?6:s-1)),e},r=e=>{let s=n();return e.map(e=>{let t=e.start.getDay(),a=new Date(s);a.setDate(s.getDate()+(0===t?6:t-1)),a.setHours(e.start.getHours(),e.start.getMinutes(),e.start.getSeconds());let l=new Date(a);return l.setHours(e.end.getHours(),e.end.getMinutes(),e.end.getSeconds()),{title:e.title,start:a,end:l}})};var d=t(68570);let i=(0,d.createProxy)(String.raw`C:\nextjs_projects\2024\work\school-management-system-app\src\components\BigCalendar.tsx`),{__esModule:c,$$typeof:x}=i;i.default;let o=(0,d.createProxy)(String.raw`C:\nextjs_projects\2024\work\school-management-system-app\src\components\BigCalendar.tsx#default`),m=async({type:e,id:s})=>{let t=r((await l.Z.lesson.findMany({where:{..."teacherId"===e?{teacherId:s}:{classId:s}}})).map(e=>({title:e.name,start:e.startTime,end:e.endTime})));return a.jsx("div",{className:"",children:a.jsx(o,{data:t})})}}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,7238,4079,9168,7343,9039,6178,5474,9682,9542,7710,7950,7047,2542],()=>t(24823));module.exports=a})();