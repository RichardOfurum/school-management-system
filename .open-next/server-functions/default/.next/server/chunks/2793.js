"use strict";exports.id=2793,exports.ids=[2793],exports.modules={76224:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(10326);let r=({label:e,type:s="text",register:a,name:r,defaultValue:i,error:n,hidden:o,inputProps:m})=>(0,t.jsxs)("div",{className:o?"hidden":"flex flex-col gap-1 w-full",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:e}),t.jsx("input",{type:s,...a(r),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...m,defaultValue:i}),n?.message&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:n.message.toString()})]})},62793:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(10326),r=a(74064),i=a(74723),n=a(76224),o=a(8570),m=a(3682),d=a(60962),l=a(17577),c=a(11439),u=a(35047);let g=({type:e,data:s,setOpen:a,relatedData:g})=>{let{register:z,handleSubmit:p,formState:{errors:b}}=(0,i.cI)({resolver:(0,r.F)(o.UQ)}),[x,h]=(0,l.useState)(!1),[f,q]=(0,d.useFormState)("create"===e?m.qH:m.a7,{success:!1,error:!1}),j=p(e=>{h(!0),console.log(e),q(e)}),I=(0,u.useRouter)();(0,l.useEffect)(()=>{f.success&&((0,c.Am)(`Class has been ${"create"===e?"created":"updated"}!`),a(!1),I.refresh(),h(!1)),f.error&&(h(!1),c.Am.error(f.error))},[f,I,e,a]);let{teachers:w=[],grades:y=[]}=g||{};return console.log("teachers",w),console.log("grades",y),console.log("relatedData",g),(0,t.jsxs)("form",{className:"flex flex-col gap-8 scrollbar-thin",onSubmit:j,children:[t.jsx("h1",{className:"text-xl font-semibold",children:"create"===e?"Create a new class":"Update the class"}),(0,t.jsxs)("div",{className:"flex justify-between flex-wrap gap-4",children:[t.jsx(n.Z,{label:"Class name",name:"name",defaultValue:s?.name,register:z,error:b?.name}),t.jsx(n.Z,{label:"Capacity",name:"capacity",defaultValue:s?.capacity,register:z,error:b?.capacity}),s&&t.jsx(n.Z,{label:"Id",name:"id",defaultValue:s?.id,register:z,error:b?.id,hidden:!0}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-1/4",children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Supervisor"}),t.jsx("select",{className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...z("supervisorId"),defaultValue:s?.teachers,children:w.map(e=>t.jsx("option",{value:e.id,selected:s&&e.id===s.supervisorId,children:e.name+" "+e.surname},e.id))}),b.supervisorId?.message&&t.jsx("p",{className:"text-xs text-red-400",children:b.supervisorId.message.toString()})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-1/4",children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Grade"}),t.jsx("select",{className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...z("gradeId"),defaultValue:s?.gradeId,children:y.map(e=>t.jsx("option",{value:e.id,selected:s&&e.id===s.gradeId,children:e.level},e.id))}),b.gradeId?.message&&t.jsx("p",{className:"text-xs text-red-400",children:b.gradeId.message.toString()})]})]}),f.error&&t.jsx("span",{className:"text-red-500",children:"Something went wrong!"}),t.jsx("button",{className:"bg-blue-400 text-white p-2 rounded-md",children:x?"loading...":"create"===e?"Create":"Update"})]})}},8570:(e,s,a)=>{a.d(s,{O7:()=>b,ON:()=>c,Q1:()=>o,Qu:()=>m,Rj:()=>x,UQ:()=>i,Xj:()=>d,a2:()=>u,aD:()=>h,iQ:()=>n,k:()=>p,o6:()=>z,qJ:()=>r,rA:()=>l,zi:()=>g});var t=a(27256);let r=t.z.object({id:t.z.coerce.number().optional(),name:t.z.string().min(1,{message:"Subject name is required!"}),teachers:t.z.array(t.z.string())}),i=t.z.object({id:t.z.coerce.number().optional(),name:t.z.string().min(1,{message:"Subject name is required!"}),capacity:t.z.coerce.number().min(1,{message:"Capacity name is required!"}),gradeId:t.z.coerce.number().min(1,{message:"Grade name is required!"}),supervisorId:t.z.coerce.string().optional()}),n=t.z.object({id:t.z.string().optional(),username:t.z.string().min(10,{message:"Username must be at least 10 characters long!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal("")),name:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),email:t.z.string().email({message:"Invalid email address!"}).optional().or(t.z.literal("")),phone:t.z.string().optional(),address:t.z.string(),img:t.z.string().optional(),bloodType:t.z.string().min(1,{message:"Blood Type is required!"}),birthday:t.z.coerce.date({message:"Birthday is required!"}),sex:t.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),subjects:t.z.array(t.z.string()).optional()}),o=t.z.object({id:t.z.string().optional(),username:t.z.string().min(10,{message:"Username must be at least 10 characters long!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal("")),name:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),email:t.z.string().email({message:"Invalid email address!"}).optional().or(t.z.literal("")),phone:t.z.string().optional(),address:t.z.string(),img:t.z.string().optional(),bloodType:t.z.string().min(1,{message:"Blood Type is required!"}),birthday:t.z.coerce.date({message:"Birthday is required!"}),sex:t.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),gradeId:t.z.coerce.number().min(1,{message:"Grade is required!"}),classId:t.z.coerce.number().min(1,{message:"Class is required!"}),parentId:t.z.string().min(1,{message:"Parent Id is required!"})}),m=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title name is required!"}),startTime:t.z.coerce.date({message:"Start time is required!"}),endTime:t.z.coerce.date({message:"End time is required!"}),lessonId:t.z.coerce.number({message:"Lesson is required!"})}),d=t.z.object({id:t.z.string().optional(),username:t.z.string().min(10,{message:"Username must be at least 10 characters long!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal("")),name:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),email:t.z.string().email({message:"Invalid email address!"}).optional().or(t.z.literal("")),phone:t.z.string().min(10,{message:"Phone number must be at least 10 digits long!"}).max(15,{message:"Phone number must be at most 15 digits long!"}),address:t.z.string().min(1,{message:"Address is required!"})}),l=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title is required!"}),description:t.z.string().min(1,{message:"Description is required!"}),startTime:t.z.coerce.date({message:"Start time is required!"}),endTime:t.z.coerce.date({message:"End time is required!"}),classId:t.z.coerce.number().optional()}).refine(e=>e.endTime>e.startTime,{message:"End time must be after start time!",path:["endTime"]}),c=t.z.object({id:t.z.coerce.number().optional(),name:t.z.string().min(1,{message:"Lesson name is required!"}),day:t.z.string().optional(),startTime:t.z.coerce.date({message:"Start time is required!"}),endTime:t.z.coerce.date({message:"End time is required!"}),subjectId:t.z.coerce.number().min(1,{message:"Subject ID is required!"}),classId:t.z.coerce.number().min(1,{message:"Class ID is required!"}),teacherId:t.z.string().optional()}).refine(e=>e.endTime>e.startTime,{message:"End time must be after start time!",path:["endTime"]}),u=t.z.object({id:t.z.string().optional(),username:t.z.string().min(1,{message:"Username is required!"}).max(50,{message:"Username must be at most 50 characters long!"}),firstName:t.z.string().min(1,{message:"First name is required!"}),surname:t.z.string().min(1,{message:"Last name is required!"}),password:t.z.string().min(8,{message:"Password must be at least 8 characters long!"}).refine(e=>/[A-Z]/.test(e),"Password must contain at least one capital letter!").refine(e=>/[0-9]/.test(e),"Password must contain at least one number!").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),"Password must contain at least one special character!").optional().or(t.z.literal(""))}),g=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title is required!"}),description:t.z.string().min(1,{message:"Description is required!"}),date:t.z.coerce.date({message:"Date is required!"}),classId:t.z.coerce.number().optional()}),z=t.z.object({id:t.z.coerce.number().optional(),level:t.z.coerce.number().min(1,{message:"Grade level is required!"}).refine(e=>Number.isInteger(e),{message:"Grade level must be an integer!"}),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}),p=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title is required!"}),startDate:t.z.coerce.date({message:"Start date is required!"}),dueDate:t.z.coerce.date({message:"Due date is required!"}),lessonId:t.z.coerce.number().min(1,{message:"Lesson ID is required!"}),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}).refine(e=>e.dueDate>e.startDate,{message:"Due date must be after start date!",path:["dueDate"]}),b=t.z.object({id:t.z.coerce.number().optional(),score:t.z.coerce.number().min(0,{message:"Score must be a non-negative number!"}),examId:t.z.coerce.number().optional(),assignmentId:t.z.coerce.number().optional(),studentId:t.z.string().min(1,{message:"Student ID is required!"}),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}),x=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Post Title required!"}),description:t.z.string().min(1,{message:"Post description required!"}),image:t.z.string().optional(),createdAt:t.z.coerce.date().optional(),updatedAt:t.z.coerce.date().optional()}),h=t.z.object({id:t.z.coerce.number().optional(),title:t.z.string().min(1,{message:"Title required!"}).max(100,{message:"Title must be less than 100 characters!"}),file:t.z.string().optional()})}};